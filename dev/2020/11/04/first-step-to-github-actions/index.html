<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="icon" type="image/png" href="/images/favicon.png">

<title>ก้าวแรกกับการใช้ GitHub Actions | KT</title>

<meta name="description" content="My personal blog. Interesting in Ruby, Rails and more." />
<!-- Begin Bridgetown SEO tag v5.0.0 -->
<title>ก้าวแรกกับการใช้ GitHub Actions | KT</title>
<meta property="og:title" content="ก้าวแรกกับการใช้ GitHub Actions" />
<meta name="author" content="Karn" />
<meta property="og:locale" content="th" />
<meta name="description" content="My personal blog. Interesting in Ruby, Rails and more." />
<meta property="og:description" content="My personal blog. Interesting in Ruby, Rails and more." />
<link rel="canonical" href="https://karn18.github.io/dev/2020/11/04/first-step-to-github-actions/" />
<meta property="og:url" content="https://karn18.github.io/dev/2020/11/04/first-step-to-github-actions/" />
<meta property="og:site_name" content="KT" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-11-04T11:54:00+07:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="ก้าวแรกกับการใช้ GitHub Actions" />
<!-- End Bridgetown SEO tag -->

<link rel="stylesheet" href="/_bridgetown/static/index.OJNAJA5Q.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css" />
<script type="module">
  import 'https://cdn.jsdelivr.net/gh/mcstudios/glightbox/dist/js/glightbox.min.js';
</script>
<script defer data-domain="karn18.github.io" src="https://analytics.karn.work/js/plausible.js"></script>
<script src="/_bridgetown/static/index.QYWZG4PN.js" defer></script>


  </head>
  <body class="post ">
    <nav>
  <ul>
    <li><a href="/">Home</a></li>
    
    
  </ul>
</nav>

    <main>
      <main data-controller="lightbox">
  <h1>ก้าวแรกกับการใช้ GitHub Actions</h1>

  <p><strong>GitHub Actions</strong> เป็นเครื่องมือ <strong>CI/CD</strong> หนึ่งที่จะช่วยให้เราทำงานแบบ <strong>automation</strong> ได้ หวังว่าบทความจะเป็นก้าวแรกที่จะจุดประกายให้นำ <strong>automation tools</strong> ต่างๆ เข้าไปใช้ในโปรเจ็คกัน สำหรับตัวอย่างในบทความนี้ก็จะเป็นโจทย์ง่ายๆ ที่จะใช้ <strong>Actions</strong> ในการทดสอบโปรแกรมหลังจากที่ <strong>push code</strong> ขี้นไป รวมถึงมีการตรวจสอบความครอบคลุมในการทดสอบด้วย <strong>Codecov</strong> และจะแสดง <strong>badge</strong> แสดงสถานะที่เกิดขึ้นไว้ด้วย<!--more--></p>

<h2 id="ตัวอย่างที่สำเร็จแล้ว">ตัวอย่างที่สำเร็จแล้ว</h2>

<p><img src="/images/posts/2020/first-step-to-github-actions/ruby-actions.png" alt="Ruby Actions" />
<em><a href="https://github.com/karn18/ruby-actions">Ruby Actions</a></em></p>

<h2 id="เริ่มต้นกันเลย">เริ่มต้นกันเลย</h2>
<ul>
  <li>สร้างโปรเจค เขียนเทส และก็โค้ด</li>
  <li>สร้าง repository บน <strong>GitHub</strong> และอัพโหลดโค้ดขึ้นไป</li>
  <li>เข้าไปที่เมนู <strong>Actions</strong> จากนั้นก็เลือก <strong>Workflows</strong> ที่จะใช้งาน อันนี้ก็ขึ้นอยู่กับภาษาที่ใช้ สำหรับของผมก็จะเลือกใช้ <strong>Workflow สำหรับ Ruby</strong></li>
</ul>

<p><img src="/images/posts/2020/first-step-to-github-actions/ra-1.png" alt="RA1" /></p>

<ul>
  <li>โดยเบื้องต้นเมื่อกด setup ก็จะมีการสร้างไฟล์ yml ตามชื่อภาษาที่เราใช้ หรือเราสามารถเปลี่ยนชื่อก็ได้ และสร้างไว้ในโฟลเดอร์ <code class="highlighter-rouge">.github/workflows</code> จากนั้นก็ปรับค่าต่างๆ เช่น
    <ul>
      <li>event ที่จะใช้ trigger ให้ทำงาน ซึ่งสนใจเฉพาะการ push โค้ดเข้ามาที่ branch <strong>main</strong> เท่านั้น</li>
      <li>job ที่ระบุไว้ใน workflow นี้จะมีแค่ test เท่านั้น แต่จะเห็นว่าในการ test ประกอบไปด้วย step หลายๆ step ด้วยกัน</li>
    </ul>
  </li>
</ul>

<p><img src="/images/posts/2020/first-step-to-github-actions/ra-2.png" alt="RA2" width="440px" /></p>

<ul>
  <li>กดบันทึกไฟล์ workflow จากนั้นจะเห็นว่า <strong>GitHub Actions</strong> เริ่มทำงานโดยอัตโนมัติในการทดสอบโค้ดให้กับเรา</li>
</ul>

<p><img src="/images/posts/2020/first-step-to-github-actions/ra-3.png" alt="RA3" /></p>

<ul>
  <li>เพิ่ม step ให้กับ workflow ของเราให้อัพโหลด code covergage ไปยัง <strong>codecov.io</strong></li>
</ul>

<p><img src="/images/posts/2020/first-step-to-github-actions/ra-4.png" alt="RA3" /></p>

<ul>
  <li>เราสามารถเพิ่ม cache ให้กับ workflow ได้ด้วยเช่นกัน เพื่อให้การการทำงานดีขึ้น</li>
</ul>

<p><img src="/images/posts/2020/first-step-to-github-actions/ra-5.png" alt="RA3" /></p>

<ul>
  <li>สุดท้ายก็ใส่ badge เข้าไปที่ <strong>README</strong> เพื่อใช้แสดงสถานะปัจจุบันของโค้ดเราว่าทดสอบผ่านหรือไม่ รวมถึง code coverage ได้กี่เปอร์เซนต์</li>
</ul>

<h2 id="references">References</h2>
<ul>
  <li><a href="https://github.com/features/actions">GitHub Actions</a></li>
  <li><a href="https://github.com/actions/cache">Actions Cache</a></li>
  <li><a href="https://codecov.io/">Codecov</a></li>
  <li><a href="https://github.com/karn18/ruby-actions">ตัวอย่างการใช้ GitHub Actions</a></li>
</ul>

</main>

    </main>
  </body>
</html>
