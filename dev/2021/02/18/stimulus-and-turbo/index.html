<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="icon" type="image/png" href="/images/favicon.png">

<title>Stimulus ‡∏õ‡∏∞‡∏ó‡∏∞ Turbo | KT</title>

<meta name="description" content="My personal blog. Interesting in Ruby, Rails and more." />
<!-- Begin Bridgetown SEO tag v5.0.0 -->
<title>Stimulus ‡∏õ‡∏∞‡∏ó‡∏∞ Turbo | KT</title>
<meta property="og:title" content="Stimulus ‡∏õ‡∏∞‡∏ó‡∏∞ Turbo" />
<meta name="author" content="Karn" />
<meta property="og:locale" content="th" />
<meta name="description" content="My personal blog. Interesting in Ruby, Rails and more." />
<meta property="og:description" content="My personal blog. Interesting in Ruby, Rails and more." />
<link rel="canonical" href="https://karn18.github.io/dev/2021/02/18/stimulus-and-turbo/" />
<meta property="og:url" content="https://karn18.github.io/dev/2021/02/18/stimulus-and-turbo/" />
<meta property="og:site_name" content="KT" />
<meta property="og:image" content="https://karn18.github.io/images/posts/2021/stimulus-and-turbo/cover.png" />
<meta property="og:image:height" content="630" />
<meta property="og:image:width" content="1200" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-02-18T12:10:00+07:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://karn18.github.io/images/posts/2021/stimulus-and-turbo/cover.png" />
<meta property="twitter:title" content="Stimulus ‡∏õ‡∏∞‡∏ó‡∏∞ Turbo" />
<!-- End Bridgetown SEO tag -->

<link rel="stylesheet" href="/_bridgetown/static/index.OJNAJA5Q.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css" />
<script type="module">
  import 'https://cdn.jsdelivr.net/gh/mcstudios/glightbox/dist/js/glightbox.min.js';
</script>
<script defer data-domain="karn18.github.io" src="https://analytics.karn.work/js/plausible.js"></script>
<script src="/_bridgetown/static/index.QYWZG4PN.js" defer></script>


  </head>
  <body class="post ">
    <nav>
  <ul>
    <li><a href="/">Home</a></li>
    
    
  </ul>
</nav>

    <main>
      <main data-controller="lightbox">
  <h1>Stimulus ‡∏õ‡∏∞‡∏ó‡∏∞ Turbo</h1>

  <p>‡∏à‡∏≤‡∏Å‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á <strong>Turbo</strong> üëâ <a href="/dev/2020/12/28/html-over-with-turbo/">‡∏•‡∏¥‡∏á‡∏Ñ‡πå</a> ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô <strong>CustomEvent</strong> üëâ <a href="/dev/2021/02/05/use-customevent-to-communicate-between-stimulus-controllers/">‡∏•‡∏¥‡∏á‡∏Ñ‡πå</a> ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡∏ô‡πà‡∏≤‡∏à‡∏∞‡∏•‡∏≠‡∏á‡∏ô‡∏≥ <strong>Turbo</strong> ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Å‡πá‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ô‡∏∞<!--more--></p>

<p>‡πÅ‡∏•‡∏∞‡πÇ‡∏à‡∏ó‡∏¢‡πå‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏ï‡πà‡∏≠‡∏¢‡∏≠‡∏î‡∏à‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß ‡πÇ‡∏î‡∏¢‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ñ‡∏≠‡∏î <strong>CustomEvent</strong> ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Å‡∏±‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á controller ‡∏≠‡∏≠‡∏Å ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ <strong>Turbo Frame</strong> ‡πÅ‡∏ó‡∏ô ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏° controller ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏≠‡∏µ‡∏Å‡∏ï‡∏±‡∏ß‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏¢‡πà‡∏≠‡∏¢‡∏°‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏µ‡∏Å‡∏£‡∏≠‡∏ö‡∏´‡∏ô‡∏∂‡πà‡∏á ‡∏ã‡∏∂‡πà‡∏á‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏°‡∏µ controller ‡∏ã‡πâ‡∏≠‡∏ô controller ‡∏≠‡∏¢‡∏π‡πà ‡πÄ‡∏£‡∏≤‡∏°‡∏≤‡∏î‡∏π‡∏Å‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á controller ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£</p>

<p>‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏Ç‡∏≠‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤ ‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ <strong>CustomEvent</strong> ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Å‡∏±‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á controller ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏∞‡∏ô‡∏≤‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô ‡πÅ‡∏ï‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏û‡∏π‡∏î‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á controller ‡πÉ‡∏ô‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á ‡∏ó‡∏±‡πâ‡∏á‡∏ô‡∏µ‡πâ‡∏ú‡∏°‡∏Ç‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö</p>

<ol>
  <li>
    <p>‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡πÉ‡∏ô‡πÅ‡∏ô‡∏ß‡∏£‡∏≤‡∏ö ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á controller ‡∏Å‡∏±‡∏ö controller ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á‡πÜ ‡∏Å‡∏±‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏∞‡∏ô‡∏≤‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô</p>

    <p><img src="/images/posts/2021/stimulus-and-turbo/side_by_side.png" alt="Side by Side" width="600px" /></p>

    <blockquote>
      <p>‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á controller ‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ ‡∏ú‡∏°‡∏Å‡πá‡∏à‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ CustomEvent ‡∏™‡πà‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á controller A ‡πÑ‡∏õ‡∏¢‡∏±‡∏á controller B ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏≤‡∏Å controller B ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏¢‡∏±‡∏á controller A</p>
    </blockquote>
  </li>
  <li>
    <p>‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡πÉ‡∏ô‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á controller ‡πÅ‡∏°‡πà ‡∏Å‡∏±‡∏ö controller ‡∏•‡∏π‡∏Å</p>

    <p><img src="/images/posts/2021/stimulus-and-turbo/inheritance.png" alt="Inheritance" width="300px" /></p>
  </li>
</ol>

<hr />

<h2 id="‡∏•‡∏á‡∏°‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Å‡∏±‡∏ô‡πÄ‡∏ñ‡∏≠‡∏∞">‡∏•‡∏á‡∏°‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Å‡∏±‡∏ô‡πÄ‡∏ñ‡∏≠‡∏∞</h2>

<ul>
  <li>‡πÅ‡∏£‡∏Å‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡πá‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô <code class="highlighter-rouge">div</code> ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÄ‡∏õ‡πá‡∏ô <code class="highlighter-rouge">turbo_frame</code> ‡πÅ‡∏•‡∏∞‡∏Å‡πá‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏≤ <strong>Sidebar Controller</strong> ‡∏≠‡∏≠‡∏Å‡πÄ‡∏•‡∏¢ ‡∏£‡∏∞‡∏ö‡∏∏ <code class="highlighter-rouge">data-turbo-frame</code> ‡πÉ‡∏ô‡∏•‡∏¥‡∏á‡∏Ñ‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏Å‡∏î‡∏Ñ‡∏•‡∏¥‡∏Å‡πÉ‡∏´‡πâ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ß‡πâ‡πÉ‡∏ô <code class="highlighter-rouge">turbo_frame</code> ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡∏Ñ‡∏•‡∏¥‡∏Å‡∏•‡∏¥‡∏á‡∏Ñ‡πå <strong>Turbo</strong> ‡∏à‡∏∞‡∏ô‡∏≥‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡πÑ‡∏õ‡πÅ‡∏™‡∏î‡∏á‡∏¢‡∏±‡∏á <code class="highlighter-rouge">data-turbo-frame</code> ‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ</li>
</ul>

<h3 id="indexhtmlerb">index.html.erb</h3>

<div class="language-erb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;main</span> <span class="na">class=</span><span class="s">"container section"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"columns"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column is-one-third"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;aside</span> <span class="na">class=</span><span class="s">"menu"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"menu-list"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">data-turbo-frame=</span><span class="s">"content"</span> <span class="na">href=</span><span class="s">"/about"</span><span class="nt">&gt;</span>About<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
          <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">data-turbo-frame=</span><span class="s">"content"</span> <span class="na">href=</span><span class="s">"/contact"</span><span class="nt">&gt;</span>Contact<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
        <span class="nt">&lt;/ul&gt;</span>
      <span class="nt">&lt;/aside&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">turbo_frame_tag</span> <span class="s2">"data_content"</span><span class="p">,</span> <span class="ss">class: </span><span class="s2">"card"</span><span class="p">,</span> <span class="ss">data: </span><span class="p">{</span> <span class="ss">controller: </span><span class="s2">"content"</span><span class="p">,</span>  <span class="s2">"content-target"</span><span class="p">:</span> <span class="s2">"body"</span> <span class="p">},</span> <span class="ss">src: </span><span class="n">about_path</span> <span class="k">do</span> <span class="cp">%&gt;</span>
      <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/main&gt;</span>
</code></pre></div></div>

<ul>
  <li>‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ view ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ ‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏≥ <code class="highlighter-rouge">turbo_frame</code> ‡πÑ‡∏õ‡∏Ñ‡∏£‡∏≠‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÑ‡∏ß‡πâ‡∏î‡∏±‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ <code class="highlighter-rouge">about.html.erb</code></li>
</ul>

<h3 id="abouthtmlerb">about.html.erb</h3>

<div class="language-erb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;%=</span> <span class="n">turbo_frame_tag</span> <span class="s2">"content"</span> <span class="k">do</span> <span class="cp">%&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s1">'pages/about'</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
</code></pre></div></div>

<blockquote>
  <p>‡πÄ‡∏≠‡∏≤‡∏ï‡∏£‡∏á‡πÜ ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÅ‡∏Ñ‡πà‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡∏Å‡πá‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ï‡∏≤‡∏°‡∏•‡∏¥‡∏á‡∏Ñ‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏Ñ‡∏•‡∏¥‡∏Å‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ CustomEvent ‡πÉ‡∏î‡πÜ ‡πÄ‡∏•‡∏¢</p>
</blockquote>

<ul>
  <li>
    <p>‡∏ñ‡∏±‡∏î‡∏°‡∏≤‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á controller ‡∏≠‡∏µ‡∏Å‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÑ‡∏ß‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏•‡∏∞‡∏î‡∏∂‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏¢‡πà‡∏≠‡∏¢‡∏°‡∏≤‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ <strong>About</strong> ‡πÇ‡∏î‡∏¢‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ó‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏ö‡∏ö dropdown ‡∏Ñ‡∏∑‡∏≠ Books, Blogs ‡πÅ‡∏•‡∏∞ Activities ‡∏ã‡∏∂‡πà‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡πá‡∏à‡∏∞‡πÑ‡∏õ‡∏î‡∏∂‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏¢‡πà‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô</p>
  </li>
  <li>
    <p>‡∏õ‡∏Å‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß <strong>Turbo</strong> ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡πá‡∏ï‡πà‡∏≠‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ‡πÅ‡∏ó‡πá‡∏Å <code class="highlighter-rouge">a</code> ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÅ‡∏ï‡πà‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÅ‡∏ó‡πá‡∏Å <code class="highlighter-rouge">select</code> ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ controller ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô <strong>Turbo</strong></p>
  </li>
</ul>

<h3 id="_abouthtmlerb">_about.html.erb</h3>

<div class="language-erb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card"</span> <span class="na">data-controller=</span><span class="s">"colorize"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card-content"</span> <span class="na">data-colorize-target=</span><span class="s">"body"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"content"</span> <span class="na">data-controller=</span><span class="s">"about"</span> <span class="na">data-about-init-value=</span><span class="s">"</span><span class="cp">&lt;%=</span> <span class="n">books_path</span> <span class="cp">%&gt;</span><span class="s">"</span> <span class="na">data-action=</span><span class="s">"loaded-&gt;colorize#loaded"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h1&gt;</span>About<span class="nt">&lt;/h1&gt;</span>
      <span class="nt">&lt;p&gt;</span>My name is Karn Tirasoontorn<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;p&gt;</span>I am computer engineer who love to code with <span class="nt">&lt;strong</span> <span class="na">class=</span><span class="s">"has-text-primary-dark"</span><span class="nt">&gt;</span>Ruby<span class="nt">&lt;/strong&gt;&lt;/p&gt;</span>

      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"select"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;select</span> <span class="na">data-action=</span><span class="s">"change-&gt;about#change"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;option</span> <span class="na">data-url=</span><span class="s">"</span><span class="cp">&lt;%=</span> <span class="n">books_path</span> <span class="cp">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>Books<span class="nt">&lt;/option&gt;</span>
          <span class="nt">&lt;option</span> <span class="na">data-url=</span><span class="s">"</span><span class="cp">&lt;%=</span> <span class="n">blogs_path</span> <span class="cp">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>Blogs<span class="nt">&lt;/option&gt;</span>
          <span class="nt">&lt;option</span> <span class="na">data-url=</span><span class="s">"</span><span class="cp">&lt;%=</span> <span class="n">activities_path</span> <span class="cp">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>Activities<span class="nt">&lt;/option&gt;</span>
        <span class="nt">&lt;/select&gt;</span>
      <span class="nt">&lt;/div&gt;</span>

      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"content my-4"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"tag"</span><span class="nt">&gt;</span>
          Tag label
        <span class="nt">&lt;/span&gt;</span>
        <span class="cp">&lt;%=</span> <span class="n">turbo_frame_tag</span> <span class="s2">"about"</span><span class="p">,</span> <span class="ss">src: </span><span class="n">books_path</span><span class="p">,</span> <span class="ss">data: </span><span class="p">{</span> <span class="s2">"about-target"</span><span class="p">:</span> <span class="s2">"result"</span> <span class="p">}</span> <span class="k">do</span> <span class="cp">%&gt;</span>

        <span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<p>‡∏à‡∏≤‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á <strong>HTML</strong> ‡∏Ç‡πâ‡∏≤‡∏á‡∏ö‡∏ô‡∏à‡∏∞‡∏û‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ controller ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô 2 ‡∏ï‡∏±‡∏ß‡∏Ñ‡∏∑‡∏≠</p>
<ol>
  <li>ColorizeConroller ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á <code class="highlighter-rouge">card</code> ‡πÇ‡∏î‡∏¢‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Å‡πá‡∏ï‡πà‡∏≠‡πÄ‡∏°‡∏∑‡πà‡∏≠ AboutController ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô controller ‡∏•‡∏π‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‡∏ú‡πà‡∏≤‡∏ô CustomEvent ‡∏ä‡∏∑‡πà‡∏≠ <code class="highlighter-rouge">loaded</code></li>
  <li>AboutController ‡∏à‡∏∞‡∏Ñ‡∏≠‡∏¢‡∏à‡∏±‡∏î‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÇ‡∏´‡∏•‡∏î‡∏Å‡πá‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á CustomEvent ‡∏ä‡∏∑‡πà‡∏≠ <code class="highlighter-rouge">loaded</code> ‡πÅ‡∏•‡πâ‡∏ß‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ</li>
</ol>

<h3 id="about_controllerrb">about_controller.rb</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nx">change</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">selected</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">[</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">selectedIndex</span><span class="p">]</span>
    <span class="kd">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">selected</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">data-url</span><span class="dl">'</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">loadContent</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="nx">loadContent</span> <span class="p">(</span><span class="nx">url</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">turbo-frame[id='about']</span><span class="dl">"</span><span class="p">).</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">url</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">dispatchLoadedEvent</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span> 
  <span class="p">}</span>

  <span class="nx">dispatchLoadedEvent</span> <span class="p">(</span><span class="nx">url</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">dispatchEvent</span><span class="p">(</span><span class="k">new</span> <span class="nx">CustomEvent</span><span class="p">(</span><span class="dl">"</span><span class="s2">loaded</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">bubbles</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">detail</span><span class="p">:</span> <span class="p">{</span> <span class="na">url</span><span class="p">:</span> <span class="nx">url</span> <span class="p">}</span>
    <span class="p">}))</span>
  <span class="p">}</span>
</code></pre></div></div>
<blockquote>
  <p>CustomEvent ‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡πÑ‡∏õ‡∏ñ‡∏∂‡∏á‡πÅ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≥‡∏´‡∏ô‡∏î option <code class="highlighter-rouge">bubbules</code> ‡πÄ‡∏õ‡πá‡∏ô <code class="highlighter-rouge">true</code> ‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞</p>
</blockquote>

<p>‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö controller ‡πÅ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏£‡∏π‡πâ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏•‡∏π‡∏Å‡∏ú‡πà‡∏ô‡∏≠‡∏≠‡∏Å‡πÑ‡∏î‡πâ ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå <code class="highlighter-rouge">loaded</code> ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô <code class="highlighter-rouge">data-action</code> ‡∏î‡∏±‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á</p>

<div class="language-erb highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"content"</span> <span class="na">data-controller=</span><span class="s">"about"</span> <span class="na">data-action=</span><span class="s">"loaded-&gt;colorize#loaded"</span><span class="nt">&gt;</span>
  ...
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<p>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ó‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏Å‡πá‡∏à‡∏∞‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏ô‡∏µ‡πâ</p>

<video controls="" playsinline="">
  <source src="/videos/stimulus_turbo.mov" type="video/mp4" />
</video>

<h2 id="references">References</h2>
<ul>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent">CustomEvent</a></li>
  <li><a href="https://turbo.hotwire.dev/">Turbo</a></li>
  <li><a href="https://stimulus.hotwire.dev/">Stimulus</a></li>
</ul>

</main>

    </main>
  </body>
</html>
